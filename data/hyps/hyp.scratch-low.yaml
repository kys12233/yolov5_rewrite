# YOLOv5 ğŸš€ by Ultralytics, AGPL-3.0 license
# Hyperparameters for low-augmentation COCO training from scratch
# python train.py --batch 64 --cfg yolov5n6.yaml --weights '' --data coco.yaml --img 640 --epochs 300 --linear
# See tutorials for hyperparameter evolution https://github.com/ultralytics/yolov5#tutorials
# ä¼˜åŒ–å™¨ç›¸å…³
#å­¦ä¹ ç‡
lr0: 0.01  # initial learning rate (SGD=1E-2, Adam=1E-3)
#ä½™å¼¦é€€ç«è¶…å‚æ•°
lrf: 0.01  # final OneCycleLR learning rate (lr0 * lrf)
#å­¦ä¹ ç‡åŠ¨é‡
momentum: 0.937  # SGD momentum/Adam beta1
#æƒé‡è¡°å‡ç³»æ•°
weight_decay: 0.0005  # optimizer weight decay 5e-4


#warmupæŒ‡çš„æ˜¯ï¼š
#â€ƒ ä¼—æ‰€å‘¨çŸ¥å­¦ä¹ ç‡æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„è¶…å‚æ•°ï¼Œç›´æ¥å½±å“ç€ç½‘ç»œè®­ç»ƒçš„é€Ÿåº¦å’Œæ”¶æ•›æƒ…å†µã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç½‘ç»œå¼€å§‹è®­ç»ƒä¹‹å‰
# ï¼Œæˆ‘ä»¬ä¼šéšæœºåˆå§‹åŒ–æƒé‡ï¼Œè®¾ç½®å­¦ä¹ ç‡è¿‡å¤§ä¼šå¯¼è‡´æ¨¡å‹æŒ¯è¡ä¸¥é‡ï¼Œå­¦ä¹ ç‡è¿‡å°ï¼Œç½‘ç»œæ”¶æ•›å¤ªæ…¢ã€‚
#é‚£è¿™ä¸ªæ—¶å€™è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæ˜¯ä¸æ˜¯æœ‰äººä¼šè¯´ï¼Œæˆ‘å‰é¢å‡ åä¸ªæˆ–è€…å‡ ç™¾ä¸ªepochå­¦ä¹ ç‡è®¾ç½®å°ä¸€ç‚¹ï¼Œ
# åé¢æ­£å¸¸åï¼Œè®¾ç½®å¤§ä¸€ç‚¹å‘¢ï¼Œæ²¡é”™è¿™å°±æ˜¯æœ€ç®€å•çš„Warmupã€‚

#warmupç›¸å…³
#é¢„çƒ­å­¦ä¹ epoch
warmup_epochs: 3.0  # warmup epochs (fractions ok)
#é¢„çƒ­å­¦ä¹ ç‡åŠ¨é‡
warmup_momentum: 0.8  # warmup initial momentum
#é¢„çƒ­å­¦ä¹ ç‡
warmup_bias_lr: 0.1  # warmup initial bias lr


#ä¸åŒæŸå¤±å‡½æ•°æƒé‡ï¼Œä»¥åŠå…¶ä»–æŸå¤±å‡½æ•°ç›¸å…³å†…å®¹
#giouæŸå¤±çš„ç³»æ•°
box: 0.05  # box loss gain #æ¡†çš„æŸå¤±ç³»æ•°
cls: 0.5  # cls loss gain #åˆ†ç±»æŸå¤±ç³»æ•°
cls_pw: 1.0  # cls BCELoss positive_weight #åˆ†ç±»æŸå¤±æ­£æ ·æœ¬çš„æƒé‡
obj: 1.0  # obj loss gain (scale with pixels) #æœ‰æ— ç‰©ä½“æŸå¤±çš„ç³»æ•°
obj_pw: 1.0  # obj BCELoss positive_weight #æœ‰æ— ç‰©ä½“æ­£æ ·æœ¬ä¸­çš„æƒé‡
iou_t: 0.20  # IoU training threshold #æ ‡ç­¾ä¸anchorsçš„ioué˜ˆå€¼


anchor_t: 4.0  # anchor-multiple threshold #æ ‡ç­¾çš„é•¿hå®½w/anchorçš„é•¿h_aå®½w_aé˜ˆå€¼ï¼Œ
#å³h/h_aï¼Œw/w_aè¦åœ¨(1/4.0,1/4/0)
# anchors: 3  # anchors per output layer (0 to ignore)
fl_gamma: 0.0  # focal loss gamma (efficientDet default gamma=1.5)

# æ•°æ®å¢å¼ºç›¸å…³ - è‰²å½©è½¬æ¢ #é¢œè‰²ç©ºé—´ç»´åº¦
hsv_h: 0.015  # image HSV-Hue augmentation (fraction) #è‰²è°ƒ
hsv_s: 0.7  # image HSV-Saturation augmentation (fraction) #é¥±å’Œåº¦
hsv_v: 0.4  # image HSV-Value augmentation (fraction) # äº®åº¦

# æ•°æ®å¢å¼ºç›¸å…³ï¼šæ—‹è½¬ã€å¹³ç§»ã€æ‰­æ›²ç­‰ #å›¾ç‰‡ç©ºé—´ç»´åº¦
degrees: 0.0  # image rotation (+/- deg) #æ—‹è½¬è§’åº¦
translate: 0.1  # image translation (+/- fraction) #æ°´å¹³å’Œå‚ç›´å¹³ç§»
scale: 0.5  # image scale (+/- gain) #ç¼©æ”¾
shear: 0.0  # image shear (+/- deg) #å‰ªåˆ‡
perspective: 0.0  # image perspective (+/- fraction), range 0-0.001 #é€è§†å˜æ¢å‚æ•°

# æ•°æ®å¢å¼ºç›¸å…³ - ç¿»è½¬
flipud: 0.0  # image flip up-down (probability) #ä¸Šä¸‹ç¿»è½¬
fliplr: 0.5  # image flip left-right (probability) #å·¦å³ç¿»è½¬

# æ•°æ®å¢å¼ºç›¸å…³ - é©¬èµ›å…‹å¢å¼º
mosaic: 1.0  # image mosaic (probability) #è¿›è¡Œmosaicå¢å¼ºçš„æ¦‚ç‡
mixup: 0.0  # image mixup (probability) #è¿›è¡Œmixupçš„æ¦‚ç‡

copy_paste: 0.0  # segment copy-paste (probability)
